<!DOCTYPE html>
<html>

<head>
    <title></title>
    <link href="tipsy.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="style.css">
    <!-- for the audio -->
    <script src="./files/jquery.min.js"></script>
    <script src="./files/d3.v3.min.js"></script>
    <!-- for the audio -->
    <script src="js/jquery.tipsy.js"></script>
</head>

<body>
    <h2> How should the A.I. search for European heritage?</h2>
    <div id="form" action="">
        <input type="text" onfocus="this.value=''" class="attribute" value="">
          <input type="range" min="1" max="100" value="0" class="slider" id="range">
        <input type="text" onfocus="this.value=''" class="attribute" value="">
          <input type="range" min="1" max="100" value="0" class="slider" id="range">

        <!-- <input type="radio" name="condition" value="and" checked> And -->
        <button onclick="myFunction()">GO</button>
    </div>
    <!-- /*** CONTAINER for nodes ***/ -->
    <div id="container">
    </div>
    <script>
        function loadScript(url, callback){
        
            var script = document.createElement("script")
            script.type = "text/javascript";
        
            if (script.readyState){  //IE
                script.onreadystatechange = function(){
                    if (script.readyState == "loaded" ||
                            script.readyState == "complete"){
                        script.onreadystatechange = null;
                        callback();
                    }
                };
            } else {  //Others
                script.onload = function(){
                    callback();
                };
            }
        
            script.src = url;
            document.getElementsByTagName("head")[0].appendChild(script);
        }
        var w = window.outerWidth;
        var h = window.innerHeight - 100;
        var svg = d3.select("#container")
            .append("svg")
            .attr("width", w)
            .attr("height", h)

        var inputAttributes = [];
        var inputWeights = [];
        function myFunction() {
            inputWeights = [];
            var inputWs;        
            inputAttributes = [];
            var inputAs;
            inputAs = d3.selectAll(".attribute");
                for(var i = 0; i<inputAs[0].length; i++){
                    inputAttributes.push(inputAs[0][i].value)
                }
            inputWs = d3.selectAll(".slider");
                for(var i = 0; i<inputWs[0].length; i++){
                    inputWeights.push(inputWs[0][i].value)
                }
            console.log(inputWeights)
            console.log(inputAttributes)
            
            // Array.prototype.clean = function(deleteValue) {
            //   for (var i = 0; i < this.length; i++) {
            //     if (this[i] == deleteValue) {         
            //       this.splice(i, 1);
            //       i--;
            //     }
            //   }
            //   return this;
            // }; inputValue.clean("");

            makeImages(inputAttributes, inputWeights)
            // loadScript("tropNet.js", function(inputAttributes){
            // });
        }
    </script>
    <script type="text/javascript" src="tropNet.js"></script>
    <!-- <script src="./files/main.js"></script> -->
</body>

</html>